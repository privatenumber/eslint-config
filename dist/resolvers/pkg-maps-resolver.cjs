"use strict";var d=require("node:path"),u=require("node:fs"),p=require("../index-BsUJzcDL.cjs"),g=require("resolve-pkg-maps"),v=require("get-conditions");require("node:process"),require("node:fs/promises"),require("node:url");const n=Object.freeze({found:!1}),f=e=>e?typeof e=="string"?[e]:Object.values(e).flatMap(f):[],c=(e,i,t)=>{const s=f(e[i]).filter(r=>r!==t&&!r.endsWith(".d.ts")&&u.existsSync(r));return s.length===0?n:{found:!0,path:s[0]}},h=(e,i)=>{if(e[0]!=="#")return n;const t=p.findUpSync("package.json",{cwd:i});if(!t)return n;const s=u.readFileSync(t,"utf8"),{imports:r}=JSON.parse(s);if(!r||!(e in r))return n;const a=g.resolveImports(r,e,v.getConditions());if(!a||a.length===0)return c(r,e);const o=a[0],l=d.resolve(t,"..",o);return u.existsSync(l)?{found:!0,path:o}:c(r,e,o)},q=2;exports.interfaceVersion=q,exports.resolve=h;
