import a from"node:process";import"node:fs/promises";import{fileURLToPath as m}from"node:url";import p from"node:fs";import i from"node:path";const n=t=>t instanceof URL?m(t):t;function y(t,{cwd:l=a.cwd(),type:e="file",stopAt:r}={}){let o=i.resolve(n(l)??"");const{root:s}=i.parse(o);for(r=i.resolve(o,n(r)??s);o&&o!==r&&o!==s;){const f=i.isAbsolute(t)?t:i.join(o,t);try{const c=p.statSync(f,{throwIfNoEntry:!1});if(e==="file"&&c?.isFile()||e==="directory"&&c?.isDirectory())return f}catch{}o=i.dirname(o)}}export{y as f};
